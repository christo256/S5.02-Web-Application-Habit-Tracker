# ========================================
# DATABASE CONFIGURATION
# ========================================
# Usar variable de entorno para host (funciona en Docker y local)
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:3306/habit_tracker
spring.datasource.username=${DB_USER:root}
spring.datasource.password=${DB_PASSWORD:rootpassword}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ========================================
# JPA / HIBERNATE CONFIGURATION
# ========================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# ========================================
# SERVER CONFIGURATION
# ========================================
server.port=8080
server.error.include-message=always
server.error.include-stacktrace=never

# ========================================
# JSON CONFIGURATION
# ========================================
spring.jackson.default-property-inclusion=non_null

# ========================================
# LOGGING CONFIGURATION
# ========================================
logging.level.root=INFO
logging.level.com.habittracker=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ========================================
# JWT CONFIGURATION
# ========================================
jwt.secret=${JWT_SECRET:mySecretKeyForJWT123456789ThisIsAVeryLongSecretKey}
jwt.expiration=${JWT_EXPIRATION:86400000}

# ========================================
# ACTUATOR (OPTIONAL - for health checks)
# ========================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always